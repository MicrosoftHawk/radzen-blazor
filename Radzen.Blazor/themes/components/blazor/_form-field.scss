$form-field-margin: 0.5rem 0 0 !default;
$form-field-padding: var(--rz-input-padding) !default;
$form-field-shadow: none !default;
$form-field-hover-shadow: none !default;
$form-field-focus-shadow: none !default;
$form-field-shadow: none !default;
$form-field-label-color: var(--rz-text-color) !default;
$form-field-label-focus-color: var(--rz-primary) !default;
$form-field-label-padding: 0.125rem 0.1875rem !default;
$form-field-label-left: 0.25rem !default;
$form-field-label-floating-top: -1.7375rem !default;
$form-field-label-textarea-top: 0.375rem !default;
$form-field-label-textarea-floating-top: -1rem !default;


:root {
    --rz-form-field-margin: #{$form-field-margin};
    --rz-form-field-padding: #{$form-field-padding};
    --rz-form-field-shadow: #{$form-field-shadow};
    --rz-form-field-hover-shadow: #{$form-field-hover-shadow};
    --rz-form-field-focus-shadow: #{$form-field-focus-shadow};
    --rz-form-field-label-color: #{$form-field-label-color};
    --rz-form-field-label-focus-color: #{$form-field-label-focus-color};
    --rz-form-field-label-padding: #{$form-field-label-padding};
    --rz-form-field-label-left: #{$form-field-label-left};
    --rz-form-field-label-floating-top: #{$form-field-label-floating-top};
    --rz-form-field-label-textarea-top: #{$form-field-label-textarea-top};
    --rz-form-field-label-textarea-floating-top: #{$form-field-label-textarea-floating-top};
}

.rz-form-field {
    @extend %input-no-padding;

    position: relative;
    display: inline-flex;
    align-items: center;
    vertical-align: top;
    margin: var(--rz-form-field-margin);
    box-shadow: var(--rz-form-field-shadow);
    transition: var(--rz-input-transition);

    & > *, 
    & input {
        @extend %input-blank;
    }

    .rz-form-field-start,
    .rz-form-field-end {
        display: flex;
        align-items: center;
        white-space: nowrap;
        padding: var(--rz-form-field-padding);
        padding-top: 0;
        padding-bottom: 0;
    }

    .rz-form-field-start {
        padding-right: 0;
    }

    .rz-form-field-end {
        padding-left: 0;
    }

    &:hover {
        @extend %input-hover;
        box-shadow: var(--rz-form-field-hover-shadow);
    }

    &.rz-state-focused {
        @extend %input-focus;
        box-shadow: var(--rz-form-field-focus-shadow);
    }
}

.rz-form-field-label {
    position: absolute;
    pointer-events: none;
    padding: var(--rz-form-field-label-padding);
    top: 50%;
    right: auto;
    border-radius: var(--rz-border-radius);
    left: var(--rz-form-field-label-left);
    max-width: calc(100% - 1.5rem);
    transform: translate(0, -50%);
    background-color: transparent;
    transition: transform var(--rz-transition), 
                color var(--rz-transition),
                font-size var(--rz-transition), 
                max-width var(--rz-transition);

    &:last-child {
        right: 1.5rem;
    }

    .rz-textarea ~ & {
        top: var(--rz-form-field-label-textarea-top);
        transform: translate(0, 0);
    }

    .rz-textbox:focus ~ &,
    .rz-textarea:focus ~ &,
    .rz-spinner:focus-within ~ &,
    .rz-autocomplete:focus-within ~ &,
    .rz-textbox:not(:placeholder-shown) ~ &,
    :not(.rz-state-empty) ~ & {
        right: auto;
        transform: translate(0, var(--rz-form-field-label-floating-top));
        color: var(--rz-input-placeholder-color);
        background-color: var(--rz-input-background-color);
        font-size: 0.75rem;
        line-height: 0.75rem;
        max-width: calc(100% - 1.5rem);
    }

    .rz-state-focused &,
    .rz-textbox:focus ~ &,
    .rz-textarea:focus ~ &,
    .rz-spinner:focus-within ~ &,
    .rz-autocomplete:focus-within ~ & {
        color: var(--rz-form-field-label-focus-color);
    }

    .rz-textarea:focus ~ &,
    .rz-textarea:not(.rz-state-empty) ~ & {
        transform: translate(0, var(--rz-form-field-label-textarea-floating-top));
    }
}